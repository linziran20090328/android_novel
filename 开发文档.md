# 小说
## 前端
1.index（首页）
    2.novel（小说首页）
        3.detail（小说每一章详情页）
2.login（登录）

3.register（注册）

4.admin（文件）
    spider（筛选小说）
    user_count（用户统计 （用echarts显示））
    user_list（显示用户列表）
## 后端
主要由flask开发
### auth
#### 登录
/login methods=['POST','GET']
##### get请求
返回login.html页面
##### post请求
首先判断是否有用户如果没有

return {'code':4001,'message':'没有此用户'}

接着判断密码是否错误
如果错误

return {'code':4002,'message':'密码错误'}

用flask_login进行登录
return {'code':0,'message':'登录成功'}
#### 图片验证码
/image_code?image_code=...

/image_code methods=['POST']

首先连接redis数据库，
创建验证码，
添加到redis缓存，
自定义返回，
~~~~ python
res = make_response(image_content)
res.headers['Content-Type'] = 'image/jpg'
return res
~~~~

#### 注册
/register methods=['POST','GET']
##### get请求
返回register.html
##### post请求
首先从redis数据库中找的验证码，

并且判断是否正确不正确返回

return {'code':4003,'message':'图片验证码错误'}

接着判断用户是否注册过
如果注册过

return {'code':4004,'message':'此用户已经注册成功请前往登陆'}

然后就创建user对象注册

成功之后返回

return {'code':0,'message':'注册成功'}
